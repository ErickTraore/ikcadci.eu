{"version":3,"sources":["webpack:///./src/views/Login.vue?c47d","webpack:///./src/components/ConexionComponent.vue?ac7d","webpack:///src/components/ConexionComponent.vue","webpack:///./src/components/ConexionComponent.vue?2b8f","webpack:///./src/components/ConexionComponent.vue?4d04","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/components/ConexionComponent.vue?0cf1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_v","attrs","on","postData","errors","_l","error","key","_s","_e","directives","name","rawName","value","user","expression","domProps","$event","target","composing","$set","_m","component","components","ConexionComponent"],"mappings":"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","file":"js/login.6af831ad.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"connection\"},[_c('ConexionComponent')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group\"},[_c('div',{staticClass:\"group__header\"},[_c('div',[_vm._v(\"CONNEXION\")]),_c('form',{attrs:{\"method\":\"post\"},on:{\"submit\":_vm.postData}},[_c('div',{staticClass:\"group__header__body \"},[(_vm.errors.length)?_c('p',[_c('b',[_vm._v(\"Merci de corriger les erreurs suivantes : \")]),_c('ul',_vm._l((_vm.errors),function(error){return _c('li',{key:error},[_vm._v(_vm._s(error))])}),0)]):_vm._e(),_c('p',[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email* \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],attrs:{\"id\":\"email\",\"type\":\"email\",\"name\":\"email\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),_c('br'),_vm._v(\" \"),_c('br')]),_c('p',[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Mot de passe* \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],attrs:{\"id\":\"password\",\"type\":\"password\",\"name\":\"password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})]),_c('button',{staticClass:\" group__header__body__btn\"},[_vm._v(\"Connexion\")])])]),_c('div',[_vm._v(\"Vous n'avez pas de compte:\")]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a',{staticClass:\"labelForm\",attrs:{\"href\":\"/Singnup#/signup\"}},[_vm._v(\"Créer un compte\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class='group'>\n        <div class='group__header'>\n          <div>CONNEXION</div>\n            <form @submit=\"postData\" method=\"post\">\n                <div class='group__header__body '>\n                    <p v-if=\"errors.length\">\n                        <b>Merci de corriger les erreurs suivantes : </b>\n                    <ul>\n                        <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\n                    </ul>\n                    </p>\n                    <p>\n                        <label for=\"email\">Email* </label>\n                        <input\n                              id=\"email\"\n                              v-model=\"user.email\"\n                              type=\"email\"\n                              name=\"email\"\n                        ><br> <br>\n                    </p>\n                    <p>\n                        <label for=\"password\">Mot de passe* </label>\n                        <input\n                              id=\"password\"\n                              v-model=\"user.password\"\n                              type=\"password\"\n                              name=\"password\"\n                        >\n                    </p>\n                    <button class=\" group__header__body__btn\">Connexion</button>\n                </div>\n            </form>\n          <div>Vous n'avez pas de compte:</div>\n        <div>\n          <a class=\"labelForm\" href=\"/Singnup#/signup\">Créer un compte</a>\n\n          </div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import Vue from \"vue\";\n  \n  import VueAxios from \"vue-axios\";\n  import axios from \"axios\";\n\n  Vue.use(VueAxios, axios)\n  export default {\n    name: 'ConexionComponent',\n    data() {\n      return {\n        errors: [],\n        user: {\n          email: null,\n          password: null,\n        }\n      }\n    },\n    methods: {\n      postData: function (e) {\n\n        e.preventDefault();\n\n        this.errors = [];\n\n        if (!this.user.password) {\n          this.errors.push('Veillez saisir un mot de passe');\n        } else if (!this.validPassword(this.user.password)) {\n          this.errors.push('Votre mot de passe doit contenir entre 4 et 8 caractères et au moins un chiffre');\n        }\n\n        if (!this.user.email) {\n          this.errors.push('Veillez saisir votre email');\n        } else if (!this.validEmail(this.user.email)) {\n          this.errors.push('L\\'adresse email est invalide.');\n        }\n\n        if (!this.errors.length) {\n          return this.post(this.user);\n        }\n\n      },\n\n      post: function (user) {\n         this.axios.post('http://localhost:3000/api/users/login/',user)\n          .then(reponse => {\n            this.user = reponse.data\n                    // stokage token dans localStorage\n                    let objMySession = {\n                      myId: this.user.$userId,\n                      myToken: this.user.$token\n                      }\n                    let sessionStore = JSON.stringify(objMySession);\n                    localStorage.setItem(\"obj\",sessionStore);\n                    this.$store.dispatch(\"nowLogged\");\n                    this.$router.push({path: '/'});\n                    window.location.reload();\n\n                    })\n\n          .catch(error => console.log(error()))\n      },\n\n      validEmail: function (email) {\n        const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return regex.test(email);\n\n      },\n      validPassword: function (password) {\n        const regex = /^(?=.*\\d).{4,8}$/;\n        return regex.test(password);\n      }\n    }\n  }\n\n\n</script>\n<style lang=\"scss\">\n    @import 'sass/main.scss';\n   \n \n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConexionComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConexionComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConexionComponent.vue?vue&type=template&id=9f5fb93e&\"\nimport script from \"./ConexionComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./ConexionComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConexionComponent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"connection\">\n    <ConexionComponent/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport ConexionComponent from '@/components/ConexionComponent.vue'\n\nexport default {\n  name: 'Login',\n  components: {\n    ConexionComponent\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=23e6ffff&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConexionComponent.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}