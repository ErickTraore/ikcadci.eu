(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"5c25":function(t,e,o){"use strict";o("b58f")},b58f:function(t,e,o){},c66d:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"group"},[o("div",{staticClass:"group__header"},[o("div",{attrs:{id:"app"}},[o("div",{staticClass:"group__header__body"},[o("h2",[t._v("Mon profil")]),o("div",[t._v("Pseudo: "+t._s(t.profile.username))]),o("div",[t._v("Email: "+t._s(t.profile.email))]),o("div",[t._v("Biographie: "+t._s(t.profile.bio))])])]),o("form",{attrs:{method:"post"},on:{submit:t.postData}},[o("div",{staticClass:"group__header__body"},[o("label",[t._v("Mettre Ã  jour ma biographie")]),t._v(" "),o("br"),t._v(" "),o("br"),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.posts.bio,expression:"posts.bio"}],attrs:{id:"bio",name:"bio",placeholder:"Biographie",type:"text"},domProps:{value:t.posts.bio},on:{input:function(e){e.target.composing||t.$set(t.posts,"bio",e.target.value)}}}),t._v(" "),o("br"),t._v(" "),o("br"),o("button",{attrs:{type:"submit"}},[t._v("Soumettre")]),o("button",{on:{click:function(e){return t.delProfil()}}},[t._v("Supprimer")])])])])])},i=[],a=o("bc3a"),r=o.n(a),l={data(){return{profile:"",posts:{username:"",email:"",bio:""}}},created(){let t=localStorage.getItem("obj"),e=JSON.parse(t),o=e.myToken;r.a.get("http://localhost:3000/api/users/me/",{headers:{Authorization:o}}).then(t=>{this.profile=t.data,this.testUser=this.profile.testUser,console.log(this.testUser),"testOk"==this.testUser&&this.$store.dispatch("beforeLogged")}).catch(t=>console.log(t()))},methods:{postData(t){let e=localStorage.getItem("obj"),o=JSON.parse(e),s=o.myToken;this.axios.put("http://localhost:3000/api/users/me/",this.posts,{headers:{Authorization:s}}).then(t=>{this.profile.bio=t.data.bio}).catch(t=>console.log(t())),t.preventDefault()},delProfil(){let t=localStorage.getItem("obj"),e=JSON.parse(t),o=e.myToken;this.axios.post("http://localhost:3000/api/users/delProfil",null,{headers:{Authorization:o}}).then(t=>{this.profile=t.data}).catch(t=>console.log(t()))}}},p=l,n=(o("5c25"),o("2877")),c=Object(n["a"])(p,s,i,!1,null,"0b04b648",null);e["default"]=c.exports}}]);
//# sourceMappingURL=profile.e6814ad1.js.map