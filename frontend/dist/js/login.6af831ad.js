(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"7a16":function(e,s,t){},a55b:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"connection"},[t("ConexionComponent")],1)},a=[],o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"group"},[t("div",{staticClass:"group__header"},[t("div",[e._v("CONNEXION")]),t("form",{attrs:{method:"post"},on:{submit:e.postData}},[t("div",{staticClass:"group__header__body "},[e.errors.length?t("p",[t("b",[e._v("Merci de corriger les erreurs suivantes : ")]),t("ul",e._l(e.errors,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]):e._e(),t("p",[t("label",{attrs:{for:"email"}},[e._v("Email* ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{id:"email",type:"email",name:"email"},domProps:{value:e.user.email},on:{input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}}),t("br"),e._v(" "),t("br")]),t("p",[t("label",{attrs:{for:"password"}},[e._v("Mot de passe* ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{id:"password",type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}})]),t("button",{staticClass:" group__header__body__btn"},[e._v("Connexion")])])]),t("div",[e._v("Vous n'avez pas de compte:")]),e._m(0)])])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("a",{staticClass:"labelForm",attrs:{href:"/Singnup#/signup"}},[e._v("Créer un compte")])])}],n=t("2b0e"),l=t("130e"),u=t("bc3a"),p=t.n(u);n["a"].use(l["a"],p.a);var d={name:"ConexionComponent",data(){return{errors:[],user:{email:null,password:null}}},methods:{postData:function(e){if(e.preventDefault(),this.errors=[],this.user.password?this.validPassword(this.user.password)||this.errors.push("Votre mot de passe doit contenir entre 4 et 8 caractères et au moins un chiffre"):this.errors.push("Veillez saisir un mot de passe"),this.user.email?this.validEmail(this.user.email)||this.errors.push("L'adresse email est invalide."):this.errors.push("Veillez saisir votre email"),!this.errors.length)return this.post(this.user)},post:function(e){this.axios.post("http://localhost:3000/api/users/login/",e).then(e=>{this.user=e.data;let s={myId:this.user.$userId,myToken:this.user.$token},t=JSON.stringify(s);localStorage.setItem("obj",t),this.$store.dispatch("nowLogged"),this.$router.push({path:"/"}),window.location.reload()}).catch(e=>console.log(e()))},validEmail:function(e){const s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return s.test(e)},validPassword:function(e){const s=/^(?=.*\d).{4,8}$/;return s.test(e)}}},c=d,m=(t("b548"),t("2877")),h=Object(m["a"])(c,o,i,!1,null,null,null),v=h.exports,_={name:"Login",components:{ConexionComponent:v}},f=_,w=Object(m["a"])(f,r,a,!1,null,null,null);s["default"]=w.exports},b548:function(e,s,t){"use strict";t("7a16")}}]);
//# sourceMappingURL=login.6af831ad.js.map