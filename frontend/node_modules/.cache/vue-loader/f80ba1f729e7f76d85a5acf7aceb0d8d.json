{"remainingRequest":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/src/components/ListMessagesItemDemoComponent.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/src/components/ListMessagesItemDemoComponent.vue","mtime":1640412706403},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/css-loader/dist/cjs.js","mtime":1631176189096},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1631176190561},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/postcss-loader/src/index.js","mtime":1631176189504},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1631176188195},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/vue-loader/lib/index.js","mtime":1631176189929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLml0ZW17CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgbWFyZ2luLXRvcDogMTBweDsKICAgIHBhZGRpbmc6IDE1cHggMDsKICAgIHRyYW5zaXRpb246IDAuMnM7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5pdGVtOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxNzEsIDE5NCwgMjM4KTsKICAgIGNvbG9yOiB3aGl0ZTsKCn0KCi5pdGVtOmFjdGl2ZXsKICAgIHRyYW5zaXRpb246IDAuMXM7CiAgICB0cmFuc2Zvcm06cyBjYWxlKDAuOSk7Cgp9CgoK"},{"version":3,"sources":["ListMessagesItemDemoComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA","file":"ListMessagesItemDemoComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n            <div>\n                        <figure>\n                            <img :src=\"attachment\" />\n                        </figure>\n                            <b>{{ UserUsername }}</b> à écrit le\n                            {{ new Date(createdAt) | dateFormat('DD/MM/YYYY') }} à\n                            {{ new Date(createdAt) | dateFormat('hh:mm') }} : <br>\n                            <div class=\"item\"> {{title}} </div>\n                            <div class=\"item\"> {{content}} </div>\n            </div>\n             <div _ngcontent-cpa-c6=\"\" class=\"position like-buttons group__header__body__second\">\n                                                          <div class=\"left\">\n                                                                              <div _ngcontent-cpa-c6=\"\" class=\"likes\">\n                                                                                  <button id=\"onLike\"\n                                                                                          v-on:click=\"onLike(id)\">\n                                                                                      <i _ngcontent-cpa-c6=\"\" class=\"like fa-thumbs-up fa-lg far\"></i>\n                                                                                  </button>\n                                                                                  <span id=\"spanLikes\"  class=\"spanLikes\" _ngcontent-cpa-c6=\"\">{{likes}}</span>\n\n                                                                              </div>\n                                                                              <div _ngcontent-cpa-c6=\"\" class=\"dislikes\">\n                                                                                  <button\n                                                                                          v-on:click=\"onDislike(id)\">\n                                                                                      <i _ngcontent-cpa-c6=\"\" class=\"dislike fa-thumbs-down fa-lg far\"></i>\n                                                                                  </button>\n                                                                                  <span id=\"spanDislikes\"  class=\"spanDislikes\" _ngcontent-cpa-c6=\"\">{{dislikes}}</span>\n                                                                              </div>\n                                                          </div>\n                                                          <div class=\"right\">\n                                                                                <div _ngcontent-cpa-c6=\"\" class=\"dislikes\">\n                                                                                    <button \n                                                                                    v-if=\"myId == UserId\"\n                                                                                    class=\"colorRed\"\n                                                                                    v-on:click=\"onDelete(id)\"\n                                                                                    >\n                                                                                      Supprimer votre message\n                                                                                    </button>\n                                                                                </div>\n                                                          </div>\n            </div>\n    </div>\n</template>\n<script>\nimport Vue from 'vue'\nimport axios from 'axios';\nimport VueFilterDateFormat from '@vuejs-community/vue-filter-date-format';\n\n   Vue.use(VueFilterDateFormat);\n\nexport default {\n    props: {\n        id: {\n            default: \"Valeur par defaut\"\n        },\n        title: {\n            default: \"Valeur par defaut\"\n        },\n        content: {\n            default: \"Valeur par defaut\"\n        },\n        createdAt: {\n            default: \"Valeur par defaut\"\n        },\n        UserUsername: {\n            default: \"Valeur par defaut\"\n        },\n        attachment: {\n            default: \"Valeur par defaut\"\n        },\n        likes: {\n            default: \"Valeur par defaut\"\n        },\n        dislikes: {\n            default: \"Valeur par defaut\"\n        },\n        myId: {\n            default: \"Valeur par defaut\"\n        },\n        UserId: {\n            default: \"Valeur par defaut\"\n        },\n        spanLikes: {\n            default: \"Valeur par defaut\"\n        },\n        spanDislikes: {\n            default: \"Valeur par defaut\"\n        },\n        \n\n    },\n\n    data() {\n      return {\n      }\n      },\n       methods: {\n      onLike: function (id) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        this.axios.post('http://localhost:3000/api/messages/' + id + '/vote/like', null, {\n            headers: {\n              'Authorization': token\n            }\n          }\n        )\n           .then(() => {\n               axios\n                .get('http://localhost:3000/api/messages/')\n                .then(response => {\n                    this.item = response.data[0]\n                    console.log('this.item.likes', this.item.likes)\n                    console.log('this.item.dislikes', this.item.dislikes)\n                    document.getElementById(\"spanLikes\").innerHTML = this.item.likes;\n                    document.getElementById(\"spanDislikes\").innerHTML = this.item.dislikes;\n\n                })\n                 .catch(error => console.log(error()))\n            })\n            .catch(error => console.log(error()))\n\n      },\n      onDislike: function (id) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        this.axios.post('http://localhost:3000/api/messages/' + id + '/vote/dislike', null, {\n            headers: {\n              'Authorization': token\n            }\n          }\n        )\n           .then(() => {\n              axios\n                .get('http://localhost:3000/api/messages/')\n                .then(response => {\n                    this.item = response.data[0]\n                    console.log('this.item.likes', this.item.likes)\n                    console.log('this.item.dislikes', this.item.dislikes)\n                    document.getElementById(\"spanLikes\").innerHTML = this.item.likes;\n                    document.getElementById(\"spanDislikes\").innerHTML = this.item.dislikes;\n\n              })\n              .catch(error => console.log(error()))\n          })\n          .catch(error => console.log(error()))\n      },\n      onDelete: function (id) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        this.axios.post('http://localhost:3000/api/messages/' + id + '/del', null, {\n            headers: {\n              'Authorization': token\n            }\n          })\n              .then(response => this.items = response.data)\n              .catch(error => console.log(error()))\n      }\n    },\n\n}\n\n\n\n</script>\n\n<style>\n\n.item{\n    background-color: #fff;\n    margin-top: 10px;\n    padding: 15px 0;\n    transition: 0.2s;\n    cursor: pointer;\n}\n\n.item:hover {\n    background-color: rgb(171, 194, 238);\n    color: white;\n\n}\n\n.item:active{\n    transition: 0.1s;\n    transform:s cale(0.9);\n\n}\n\n\n</style>"]}]}