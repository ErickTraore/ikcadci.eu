{"remainingRequest":"/Users/traore/Sites/enConstruction/kemetmaat/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/traore/Sites/enConstruction/kemetmaat/frontend/src/views/Formation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/traore/Sites/enConstruction/kemetmaat/frontend/src/views/Formation.vue","mtime":1642434341801},{"path":"/Users/traore/Sites/enConstruction/kemetmaat/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1631176188195},{"path":"/Users/traore/Sites/enConstruction/kemetmaat/frontend/node_modules/babel-loader/lib/index.js","mtime":1631176189508},{"path":"/Users/traore/Sites/enConstruction/kemetmaat/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1631176188195},{"path":"/Users/traore/Sites/enConstruction/kemetmaat/frontend/node_modules/vue-loader/lib/index.js","mtime":1631176189929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCiAgaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKICBpbXBvcnQgVnVlQXhpb3MgZnJvbSAndnVlLWF4aW9zJwogIGltcG9ydCBWdWVGaWx0ZXJEYXRlRm9ybWF0IGZyb20gJ0B2dWVqcy1jb21tdW5pdHkvdnVlLWZpbHRlci1kYXRlLWZvcm1hdCc7CgogIFZ1ZS51c2UoVnVlRmlsdGVyRGF0ZUZvcm1hdCk7CiAgVnVlLnVzZShWdWVBeGlvcywgYXhpb3MpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZvcm1hdGlvbiIsCiAgY3JlYXRlZCgpIHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nVGVtcGxhdGU6IHRydWUsCiAgICAgIGxvYWRpbmdJbWFnZTogdHJ1ZSwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGlkSW1hZ2U6ICcnLAogICAgICB0ZXN0TmFtZTogQm9vbGVhbiwKICAgICAgZmlsZTogQmxvYiwKICAgICAgZm9ybWF0aW9uOiB7CiAgICAgICAgYXR0YWNobWVudDogJycsCiAgICAgICAgdGl0bGVGaXJzdDonJywKICAgICAgICB0aXRsZVNlY29uZDonJywKICAgICAgICBuaXZlYXU6ICcnLAogICAgICAgIGR1cmF0aW9uOiAnJywKICAgICAgICBpc0FjdGl2ZTogdHJ1ZSwKICAgICAgICB9LAogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsCiAgICAgIGZvcm1hdGlvbnM6IFtdLAogICAgICBpbWFnZTonJywKICAgICAgcG9zdHM6IHsKICAgICAgICBhdHRhY2htZW50OiAnJywKICAgICAgICB0aXRsZUZpcnN0OiAnJywKICAgICAgICB0aXRsZVNlY29uZDonJywKICAgICAgICBuaXZlYXU6ICcnLAogICAgICAgIGR1cmF0aW9uOiAnJywKICAgICAgICBpc0FjdGl2ZTogJycsCiAgICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiB7fSwKICBtZXRob2RzOiB7ICAKICAgIG9uUG9zdERhdGEoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGNvbnNvbGUubG9nKCdKZSBzdWlzIHVuIFlhbmtlZS0xJyk7CiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5mb3JtYXRpb24udGl0bGVGaXJzdCkgewogICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVmVpbGxleiBzYWlzaXIgbGUgdGl0cmUgcHJpbmNpcGFsJyk7CiAgICAgICAgICB9CiAgICAgICAgIGVsc2UgaWYgKHRoaXMuZm9ybWF0aW9uLnRpdGxlRmlyc3QubGVuZ3RoID49IDMwIHx8IHRoaXMuZm9ybWF0aW9uLnRpdGxlRmlyc3QubGVuZ3RoIDw9IDMpewogICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVm90cmUgdGl0cmUgcHJpbmNpcGFsIGRvaXQgY29tcHJlbmRyZSBlbnRyZSA0IGV0IDMwIGNhcmFjdMOocmVzLicpOwogICAgICAgIH0KICAgICAgICBpZiAoIXRoaXMuZm9ybWF0aW9uLnRpdGxlU2Vjb25kKSB7CiAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdWZWlsbGV6IHNhaXNpciBsZSB0aXRyZSBzZWNvbmRhaXJlJyk7CiAgICAgICAgICB9CiAgICAgICAgIGVsc2UgaWYgKHRoaXMuZm9ybWF0aW9uLnRpdGxlU2Vjb25kLmxlbmd0aCA+PSA1MCB8fCB0aGlzLmZvcm1hdGlvbi50aXRsZVNlY29uZC5sZW5ndGggPD0gMyl7CiAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdWb3RyZSBzZWNvbmQgdGl0cmUgZG9pdCBjb21wcmVuZHJlIGVudHJlIDQgZXQgNTAgY2FyYWN0w6hyZXMuJyk7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5mb3JtYXRpb24ubml2ZWF1KSB7CiAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdWZWlsbGV6IHNhaXNpciBsZSBuaXZlYXUgZGUgbGEgZm9ybWF0aW9uJyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1hdGlvbi5uaXZlYXUubGVuZ3RoIDw9IDEpewogICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnTGUgbml2ZWF1IGRvaXQgY29udGVuaXIgcGx1cyBkIDEgY2FyYWN0ZXJlcy4nKTsKICAgICAgICB9CiAgICAgICAgIGlmICghdGhpcy5mb3JtYXRpb24uZHVyYXRpb24pIHsKICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1ZlaWxsZXogc2Fpc2lyIGxhIGR1csOpZSBkZSBsYSBmb3JtYXRpb24nKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybWF0aW9uLmR1cmF0aW9uLmxlbmd0aCA8PSAxKXsKICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1ZvdHJlIGR1csOpZSBkZSBmb3JtYXRpb24gZG9pdCBjb250ZW5pciBwbHVzIGQgMSBjYXJhY3RlcmUuJyk7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnVsOpcmlmaWNhdGlvbiBkZXMgaW5wdXRzIC0tPiBPSycpCiAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuZm9ybWF0aW9uKTsKICAgICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZXJyb3JzKTsKICAgICAgY29uc29sZS5sb2coJ0plIHN1aXMgdW4gWWFua2VlLTInKTsKICAgICAgfSwKICAgIHBvc3Q6IGZ1bmN0aW9uIChmb3JtYXRpb24pIHsKICAgICAgICBjb25zb2xlLmxvZygnSmUgc3VpcyB1biBZYW5rZWUtMycpOwogICAgICAgIGxldCBvYmpNeVNlc3Npb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib2JqIikKICAgICAgICBsZXQgbXlTdG9yYWdlVG9rZW4gPSBKU09OLnBhcnNlKG9iak15U2Vzc2lvbikKICAgICAgICBsZXQgdG9rZW4gPSBteVN0b3JhZ2VUb2tlbi5teVRva2VuOwogICAgICAgIGNvbnNvbGUubG9nKCd2b3RyZSB0b2tlbicsdG9rZW4gKTsKCiAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2Zvcm1hdGlvbnMvbmV3LycsIGZvcm1hdGlvbiwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0b2tlbgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgKQogICAgICAgICAudGhlbihmdW5jdGlvbihGb3JtYXRpb24pIHsKICAgICAgICAgICAgaWYgKEZvcm1hdGlvbikgewoKICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCkKICAgICAgICAgICAgfQogICAgICAgICAgICAgICBGb3JtYXRpb24uc3RhdHVzKDIwMCkuanNvbihGb3JtYXRpb24pOwoKCiAgICAgICAgICAgIC8vIHRoaXMuZm9ybWF0aW9uID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZm9ybWF0aW9uIGNyw6llIGVuIGJkZCBvaycpCiAgICAgICAgICAgIC8vIGF4aW9zCiAgICAgICAgICAgIC8vICAgLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9mb3JtYXRpb25zLycpCiAgICAgICAgICAgIC8vICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAvLyAgICAgdGhpcy5mb3JtYXRpb25zID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAvLyAgICAgdGhpcy5yZXNldEZvcm0oKQogICAgICAgICAgICAvLyAgICAgdGhpcy5pbWFnZSA9ICcnOwogICAgICAgICAgICAvLyAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih0aGlzLmZvcm1hdGlvbnMpOwogICAgICAgICAgICAvLyAgICAgfSkKICAgICAgICAgICAgLy8gICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgIC8vICAgICBlcnIuc3RhdHVzQ29kZSA9IDQwMTsKICAgICAgICAgICAgLy8gICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgICBlcnIuc3RhdHVzQ29kZSA9IDQwMTsKICAgICAgICAgICAgICB9KTsKICAgICAgfSwKIG9uRmlsZVNlbGVjdGVkKGUpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7CiAgICAgIGlmICghZmlsZXMubGVuZ3RoKQogICAgICAgIHJldHVybjsKICAgICAgdGhpcy5jcmVhdGVJbWFnZShmaWxlc1swXSk7CiAgICB9LAogICAgY3JlYXRlSW1hZ2UoZmlsZSkgewogICAgICAvLyB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4gewogICAgICAgIHZtLmltYWdlID0gZS50YXJnZXQucmVzdWx0OwogICAgICB9OwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgaWYodGhpcy5pbWFnZSkKICAgICAgICByZXR1cm47IAogICAgICAgIHRoaXMucHVzaEltYWdlKCk7CiAgICB9LAogICAgcHVzaEltYWdlKCkgewogICAgICAgIGxldCBvYmpNeVNlc3Npb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib2JqIikKICAgICAgICBsZXQgbXlTdG9yYWdlVG9rZW4gPSBKU09OLnBhcnNlKG9iak15U2Vzc2lvbikKICAgICAgICBsZXQgdG9rZW4gPSBteVN0b3JhZ2VUb2tlbi5teVRva2VuOwogICAgICAgIHZhciBmaWxlTmFtZSA9IGZpbGVOYW1lOwogICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIHZhciBpbWFnZWZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZScpOwogICAgICAgIGNvbnNvbGUubG9nKCdNb24gaW1hZ2VGaWxlWzBdIDonLGltYWdlZmlsZS5maWxlc1swXSk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgaW1hZ2VmaWxlLmZpbGVzWzBdKTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBheGlvcwogICAgICAgIC5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2Zvcm1hdGlvbnMvdXBsb2FkJywgZm9ybURhdGEsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0b2tlbiwKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyAKICAgICAgICAgIH0KICAgICAgfSkgICAKICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgIGNvbnNvbGUubG9nKCd2YWxldXJlIHJlw6d1IHBhciBsZSBiYWNrOicscmVzcG9uc2UuZGF0YSk7CiAgICAgICBjb25zb2xlLmxvZygndmFsZXVyZSByZXMuZGF0YS5pZEltYWdlOicscmVzcG9uc2UuZGF0YS5pZEltYWdlKTsKCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5pZEltYWdlOwogICAgIH0pCiAgICAgLnRoZW4oZnVuY3Rpb24oaWRJbWFnZSl7CgoKICAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYXR0YWNobWVudCIpOwogICAgICAgICAgYXR0YWNobWVudC52YWx1ZSA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvZm9ybWF0aW9ucy9pbWFnZXMvIitpZEltYWdlOwoKICAgICAgICAgIGF0dGFjaG1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoKICAgICAgICAgIHN0YXR1cygyMDApLmpzb24oe2lkSW1hZ2V9KQogICAgIH0pCiAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7CiAgICAgZXJyLnN0YXR1c0NvZGUgPSA0MDE7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgIC5maW5hbGx5KCgpID0+IAogICAgICAgICAgdGhpcy5sb2FkaW5nSW1hZ2UgPSBmYWxzZQogICAgICAgICkKICAgICAgICAgIH0sIDEwMDApCiAgfSwKICAgIHJlbW92ZUltYWdlOiBmdW5jdGlvbihlKSB7CiAgICAgICAgbGV0IG9iak15U2Vzc2lvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvYmoiKQogICAgICAgIGxldCBteVN0b3JhZ2VUb2tlbiA9IEpTT04ucGFyc2Uob2JqTXlTZXNzaW9uKQogICAgICAgIGxldCB0b2tlbiA9IG15U3RvcmFnZVRva2VuLm15VG9rZW47CiAgICAgICAgdmFyIGZpbGVOYW1lID0gdGhpcy5zZWxlY3RlZEZpbGUubmFtZTsKICAgICAgICAKICAgICAgICBjb25zb2xlLmxvZygnRW52b2llIGR1ZmljaGllciBwb3VyIMOpY3Jhc2VtZW50JyxmaWxlTmFtZSk7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgdGhpcy5zZWxlY3RlZEZpbGUpOwogICAgICAKICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2Zvcm1hdGlvbnMvZGVsTGllbkltYWdlJywgZm9ybURhdGEsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0b2tlbiwKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyAKICAgICAgICAgIH0KICAgICAgfSkgICAKCiAgICAgIHRoaXMuaW1hZ2UgPSAnJzsKICAgICAgY29uc29sZS5sb2coJ0xlIGZpY2hpZXIgdmllbnQgZFwnw6p0cmUgZWZmYWPDqSBkdSBuYXZpZ2F0ZXVyJyk7CiAgICAgIHRoaXMuZm9ybWF0aW9uLmF0dGFjaG1lbnQgPSAnJzsKICAgICAgY29uc29sZS5sb2coJ0xcJ3VybCBkdSBmaWNoaWVyIHZpZW50IGRcJ8OqdHJlIGVmZmFjw6kgZHUgZm9ybXVsYWlyZScpOwogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAogICAgLy8gZG9EZWxldGU6IGZ1bmN0aW9uIChpZCkgewogICAgLy8gICAgIGxldCBvYmpNeVNlc3Npb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib2JqIikKICAgIC8vICAgICBsZXQgbXlTdG9yYWdlVG9rZW4gPSBKU09OLnBhcnNlKG9iak15U2Vzc2lvbikKICAgIC8vICAgICBsZXQgdG9rZW4gPSBteVN0b3JhZ2VUb2tlbi5teVRva2VuOwogICAgLy8gICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9mb3JtYXRpb25zLycgKyBpZCArICcvZGVsJywgbnVsbCwgewogICAgLy8gICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0b2tlbgogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICB0aGlzLmF4aW9zCiAgICAvLyAgICAgICAgICAgLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9mb3JtYXRpb25zLycpCiAgICAvLyAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ0RlbGV0aW5nIGZvcm1hdGlvbicpCiAgICAvLyAgICAgICAgICAgICB0aGlzLmZvcm1hdGlvbnMgPSByZXNwb25zZS5kYXRhCiAgICAvLyAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpCiAgICAvLyAgICAgICAgICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHRoaXMuZm9ybWF0aW9ucyk7CiAgICAvLyAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7CiAgICAvLyAgICAgICAgICAgICBlcnIuc3RhdHVzQ29kZSA9IDQwMTsKICAgIC8vICAgICAgICAgICAgIH0pOwogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7CiAgICAvLyAgICAgICAgICAgZXJyLnN0YXR1c0NvZGUgPSA0MDE7CiAgICAvLyAgICAgICAgICAgfSk7CiAgICAvLyAgIH0KICB9CiAgfQo="},{"version":3,"sources":["Formation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Formation.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>Enregistrez une formation\n                  <form @submit=\"onPostData\" method=\"post\" enctype=\"multipart/form-data\" name=\"formation\">\n                    <label class=\"labelForm\">Nouveau message avec image optionnelle</label> <br> <br>\n                    <p v-if=\"errors.length\">\n                        <b>Merci de corriger les erreurs suivantes : </b>\n                      <ul>\n                          <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\n                      </ul>\n                   </p>\n  <input\n                            id=\"titleFirst\"\n                            v-model=\"formation.titleFirst\"\n                            type=\"text\"\n                            name=\"titleFirst\"\n                            placeholder=\"Titre principal\"\n  ><br> <br>\n   <input\n                            id=\"titleSecond\"\n                            v-model=\"formation.titleSecond\"\n                            type=\"text\"\n                            name=\"titleSecond\"\n                            placeholder=\"Titre secondaire\"\n  ><br> <br>\n    <input\n                            id=\"niveau\"\n                            v-model=\"formation.niveau\"\n                            type=\"text\"\n                            name=\"niveau\"\n                            placeholder=\"Niveau du diplome\"\n  ><br> <br>\n    <input\n                            id=\"duration\"\n                            v-model=\"formation.duration\"\n                            type=\"text\"\n                            name=\"duration\"\n                            placeholder=\"Durée de la formation\"\n  ><br> <br>\n                            <label class=\"isActive\">Formation en cours? </label>\n\n     <input\n                            id=\"isActive\"\n                            v-model=\"formation.isActive\"\n                            type=\"checkbox\"\n                            name=\"isActive\"\n                            checked\n><br> <br>\n  <input\n                            id=\"attachment\"\n                            v-model=\"formation.attachment\"\n                            type=\"hidden\"\n                            name=\"attachment\"\n                             placeholder=\"attachment\"\n                            > \n                            <br> \n                            <div>\n                            <div v-if=\"!image\">\n                            <h2>Choisir une image</h2>\n                            <div id=\"list\">\n                            </div>\n                            <input \n                            id=\"file\" \n                            type=\"file\" \n                            @change=\"onFileSelected\"\n                            name=\"attachment\"\n                            alt=\"example\"\n                            >\n                            </div>\n                          <div v-else>\n                            <div v-if=\"loadingImage\" class=\"progress\">\n                            <div class=\"value v-80 striped animate s-10\">Chargement...</div>\n                            </div>\n                            <div v-else>\n                            <img :src=\"image\" />\n                            </div>\n                            <button @click=\"removeImage\">Remove image</button>\n                          </div>\n                         \n                        </div><br><br>\n                        <div>\n                        </div>\n   <button \n                      type=\"submit\"\n                      value=\"val\"\n                    >\n                      Envoyer\n  </button><br><br>\n  </form>\n</div>\n</template>\n\n<script>\n  import Vue from 'vue'\n  import axios from 'axios';\n  import VueAxios from 'vue-axios'\n  import VueFilterDateFormat from '@vuejs-community/vue-filter-date-format';\n\n  Vue.use(VueFilterDateFormat);\n  Vue.use(VueAxios, axios);\nexport default {\n  name: \"Formation\",\n  created() {},\n  data() {\n    return {\n      loadingTemplate: true,\n      loadingImage: true,\n      errors: [],\n      loading: false,\n      idImage: '',\n      testName: Boolean,\n      file: Blob,\n      formation: {\n        attachment: '',\n        titleFirst:'',\n        titleSecond:'',\n        niveau: '',\n        duration: '',\n        isActive: true,\n        },\n      selectedFile: null,\n      formations: [],\n      image:'',\n      posts: {\n        attachment: '',\n        titleFirst: '',\n        titleSecond:'',\n        niveau: '',\n        duration: '',\n        isActive: '',\n        }\n    };\n  },\n  props: {},\n  methods: {  \n    onPostData(e) {\n      e.preventDefault();\n      console.log('Je suis un Yankee-1');\n        this.errors = [];\n                if (!this.formation.titleFirst) {\n          this.errors.push('Veillez saisir le titre principal');\n          }\n         else if (this.formation.titleFirst.length >= 30 || this.formation.titleFirst.length <= 3){\n          this.errors.push('Votre titre principal doit comprendre entre 4 et 30 caractères.');\n        }\n        if (!this.formation.titleSecond) {\n          this.errors.push('Veillez saisir le titre secondaire');\n          }\n         else if (this.formation.titleSecond.length >= 50 || this.formation.titleSecond.length <= 3){\n          this.errors.push('Votre second titre doit comprendre entre 4 et 50 caractères.');\n        }\n        if (!this.formation.niveau) {\n          this.errors.push('Veillez saisir le niveau de la formation');\n        } else if (this.formation.niveau.length <= 1){\n          this.errors.push('Le niveau doit contenir plus d 1 caracteres.');\n        }\n         if (!this.formation.duration) {\n          this.errors.push('Veillez saisir la durée de la formation');\n        } else if (this.formation.duration.length <= 1){\n          this.errors.push('Votre durée de formation doit contenir plus d 1 caractere.');\n        }\n        if (!this.errors.length) {\n          console.log('Vérification des inputs --> OK')\n          return this.post(this.formation);\n        }\n      console.log(this.errors);\n      console.log('Je suis un Yankee-2');\n      },\n    post: function (formation) {\n        console.log('Je suis un Yankee-3');\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        console.log('votre token',token );\n\n        this.axios.post('http://localhost:3000/api/formations/new/', formation, {\n            headers: {\n              'Authorization': token\n            }\n          }\n        )\n         .then(function(Formation) {\n            if (Formation) {\n\n                this.resetForm()\n            }\n               Formation.status(200).json(Formation);\n\n\n            // this.formation = response.data\n            // console.log('formation crée en bdd ok')\n            // axios\n            //   .get('http://localhost:3000/api/formations/')\n            //   .then(response => {\n            //     this.formations = response.data\n            //     this.resetForm()\n            //     this.image = '';\n            //     response.status(200).json(this.formations);\n            //     })\n            //   .catch(function(err) {\n            //     err.statusCode = 401;\n            //   });\n          })\n          .catch(function(err) {\n                err.statusCode = 401;\n              });\n      },\n onFileSelected(e) {\n      this.selectedFile = e.target.files[0];\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files.length)\n        return;\n      this.createImage(files[0]);\n    },\n    createImage(file) {\n      // var image = new Image();\n      var reader = new FileReader();\n      var vm = this;\n      reader.onload = (e) => {\n        vm.image = e.target.result;\n      };\n      reader.readAsDataURL(file);\n      if(this.image)\n        return; \n        this.pushImage();\n    },\n    pushImage() {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        var fileName = fileName;\n        var formData = new FormData();\n        var imagefile = document.querySelector('#file');\n        console.log('Mon imageFile[0] :',imagefile.files[0]);\n        formData.append(\"file\", imagefile.files[0]);\n        setTimeout(() => {\n        axios\n        .post('http://localhost:3000/api/formations/upload', formData, {\n          headers: {\n            'Authorization': token,\n            'Content-Type': 'multipart/form-data' \n          }\n      })   \n     .then((response) => {\n       console.log('valeure reçu par le back:',response.data);\n       console.log('valeure res.data.idImage:',response.data.idImage);\n\n          return response.data.idImage;\n     })\n     .then(function(idImage){\n\n\n       const attachment = document.querySelector(\"#attachment\");\n          attachment.value = \"http://localhost:3000/formations/images/\"+idImage;\n\n          attachment.dispatchEvent(new Event('input'));\n\n          status(200).json({idImage})\n     })\n    .catch(function(err) {\n     err.statusCode = 401;\n                    })\n    .finally(() => \n          this.loadingImage = false\n        )\n          }, 1000)\n  },\n    removeImage: function(e) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        var fileName = this.selectedFile.name;\n        \n        console.log('Envoie dufichier pour écrasement',fileName);\n        var formData = new FormData();\n        formData.append(\"file\", this.selectedFile);\n      \n        axios.post('http://localhost:3000/api/formations/delLienImage', formData, {\n          headers: {\n            'Authorization': token,\n            'Content-Type': 'multipart/form-data' \n          }\n      })   \n\n      this.image = '';\n      console.log('Le fichier vient d\\'être effacé du navigateur');\n      this.formation.attachment = '';\n      console.log('L\\'url du fichier vient d\\'être effacé du formulaire');\n      e.preventDefault();\n    },\n    // doDelete: function (id) {\n    //     let objMySession = localStorage.getItem(\"obj\")\n    //     let myStorageToken = JSON.parse(objMySession)\n    //     let token = myStorageToken.myToken;\n    //     this.axios.post('http://localhost:3000/api/formations/' + id + '/del', null, {\n    //         headers: {\n    //           'Authorization': token\n    //         }\n    //       })\n    //     .then((response) => {\n    //         this.axios\n    //           .get('http://localhost:3000/api/formations/')\n    //           .then(response => {\n    //             console.log('Deleting formation')\n    //             this.formations = response.data\n    //             this.resetForm()\n    //             response.status(200).json(this.formations);\n    //             })\n    //            .catch(function(err) {\n    //             err.statusCode = 401;\n    //             });\n    //       })\n    //     .catch(function(err) {\n    //           err.statusCode = 401;\n    //           });\n    //   }\n  }\n  }\n</script>\n\n<style lang=\"scss\" scoped></style>"]}]}