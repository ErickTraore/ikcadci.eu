{"remainingRequest":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/node_modules/babel-loader/lib/index.js!/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/src/views/Profile.vue","mtime":1640830342857},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1631176188195},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/node_modules/babel-loader/lib/index.js","mtime":1631176189508},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1631176188195},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_groupomania/frontend/node_modules/vue-loader/lib/index.js","mtime":1631176189929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8gaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZmlsZTogJycsCiAgICAgIHBvc3RzOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBiaW86ICcnCiAgICAgIH0KICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGxldCBvYmpNeVNlc3Npb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib2JqIik7CiAgICBsZXQgbXlTdG9yYWdlVG9rZW4gPSBKU09OLnBhcnNlKG9iak15U2Vzc2lvbik7CiAgICBsZXQgdG9rZW4gPSBteVN0b3JhZ2VUb2tlbi5teVRva2VuOwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL21lLycsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdBdXRob3JpemF0aW9uJzogdG9rZW4KICAgICAgfQogICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMucHJvZmlsZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIHRoaXMudGVzdFVzZXIgPSB0aGlzLnByb2ZpbGUudGVzdFVzZXI7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVzdFVzZXIpOyAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYmVmb3JlTG9nZ2VkIikKCiAgICAgIGlmICh0aGlzLnRlc3RVc2VyID09ICd0ZXN0T2snKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImJlZm9yZUxvZ2dlZCIpOwogICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcigpKSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgcG9zdERhdGEoZSkgewogICAgICBsZXQgb2JqTXlTZXNzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9iaiIpOwogICAgICBsZXQgbXlTdG9yYWdlVG9rZW4gPSBKU09OLnBhcnNlKG9iak15U2Vzc2lvbik7CiAgICAgIGxldCB0b2tlbiA9IG15U3RvcmFnZVRva2VuLm15VG9rZW47CiAgICAgIHRoaXMuYXhpb3MucHV0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL21lLycsIHRoaXMucG9zdHMsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnByb2ZpbGUuYmlvID0gcmVzcG9uc2UuZGF0YS5iaW87CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKCkpKTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKCiAgICBkZWxQcm9maWwoKSB7CiAgICAgIGxldCBvYmpNeVNlc3Npb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib2JqIik7CiAgICAgIGxldCBteVN0b3JhZ2VUb2tlbiA9IEpTT04ucGFyc2Uob2JqTXlTZXNzaW9uKTsKICAgICAgbGV0IHRva2VuID0gbXlTdG9yYWdlVG9rZW4ubXlUb2tlbjsKICAgICAgdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL2RlbFByb2ZpbCcsIG51bGwsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnByb2ZpbGUgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcigpKSk7CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,KAAA,MAAA,OAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,GAAA,EAAA;AAHA;AAFA,KAAA;AAQA,GAVA;;AAWA,EAAA,OAAA,GAAA;AACA,QAAA,YAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,QAAA,cAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA;AACA,QAAA,KAAA,GAAA,cAAA,CAAA,OAAA;AACA,IAAA,KAAA,CACA,GADA,CACA,qCADA,EACA;AACA,MAAA,OAAA,EAAA;AACA,yBAAA;AADA;AADA,KADA,EAMA,IANA,CAMA,QAAA,IAAA;AACA,WAAA,OAAA,GAAA,QAAA,CAAA,IAAA;AACA,WAAA,QAAA,GAAA,KAAA,OAAA,CAAA,QAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,QAAA,EAHA,CAGA;;AACA,UAAA,KAAA,QAAA,IAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,cAAA;AACA;AACA,KAbA,EAcA,KAdA,CAcA,KAAA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,CAdA;AAeA,GA9BA;;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,CAAA,CAAA,EAAA;AACA,UAAA,YAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,cAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA;AACA,UAAA,KAAA,GAAA,cAAA,CAAA,OAAA;AAEA,WAAA,KAAA,CAAA,GAAA,CAAA,qCAAA,EAAA,KAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,2BAAA;AADA;AADA,OAAA,EAKA,IALA,CAKA,QAAA,IAAA;AACA,aAAA,OAAA,CAAA,GAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAPA,EAQA,KARA,CAQA,KAAA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,CARA;AAUA,MAAA,CAAA,CAAA,cAAA;AACA,KAjBA;;AAkBA,IAAA,SAAA,GAAA;AACA,UAAA,YAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,cAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA;AACA,UAAA,KAAA,GAAA,cAAA,CAAA,OAAA;AAEA,WAAA,KAAA,CAAA,IAAA,CAAA,2CAAA,EAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,2BAAA;AADA;AADA,OAAA,EAKA,IALA,CAKA,QAAA,IAAA;AACA,aAAA,OAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAPA,EAQA,KARA,CAQA,KAAA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,CARA;AAUA;;AAjCA;AA/BA,CAAA","sourcesContent":["<template>\n    <div class='group'>\n        <div class='group__header'>\n            <div id=\"app\">\n                <div class='group__header__body'>\n                    <h2>Mon profil</h2>\n                    <div>Pseudo: {{ profile.username }}</div>\n                    <div>Email: {{ profile.email }}</div>\n                    <div>Biographie: {{ profile.bio }}</div>\n                </div>\n            </div>\n            <form @submit=\"postData\" method=\"post\">\n                <div class='group__header__body'>\n                    <label>Mettre Ã  jour ma biographie</label> <br> <br>\n                    <textarea\n                            id=\"bio\"\n                            name=\"bio\"\n                            placeholder=\"Biographie\"\n                            type=\"text\"\n                            v-model=\"posts.bio\"\n                    ></textarea> <br> <br>\n                    <button type=\"submit\">Soumettre</button>\n                    <button @click=\"delProfil()\">Supprimer</button>\n                </div>\n            </form>\n        </div>\n\n    </div>\n</template>\n\n<script>\n  import axios from 'axios';\n// import { mapState } from 'vuex';\n\n  export default {\n    data() {\n      return {\n        profile: '',\n        posts: {\n          username: '',\n          email: '',\n          bio: '',\n        }\n      }\n    },\n    created() {\n      let objMySession = localStorage.getItem(\"obj\")\n      let myStorageToken = JSON.parse(objMySession)\n      let token = myStorageToken.myToken;\n      axios\n        .get('http://localhost:3000/api/users/me/', {\n          headers: {\n            'Authorization': token\n          }\n        })\n        .then(response => {\n          this.profile = response.data\n          this.testUser = this.profile.testUser\n          console.log(this.testUser) // this.$store.dispatch(\"beforeLogged\")\n      if(this.testUser == 'testOk'){\n       this.$store.dispatch(\"beforeLogged\")\n      }\n        })\n        .catch(error => console.log(error()))\n    },\n    methods: {\n      postData(e) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n\n        this.axios.put('http://localhost:3000/api/users/me/', this.posts, {\n          headers: {\n            'Authorization': token\n          }\n        })\n          .then(response => {\n            this.profile.bio = response.data.bio\n          })\n          .catch(error => console.log(error()))\n\n        e.preventDefault();\n      }, \n      delProfil() {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n\n        this.axios.post('http://localhost:3000/api/users/delProfil', null, {\n          headers: {\n            'Authorization': token\n          }\n        })\n          .then(response => {\n            this.profile = response.data\n          })\n          .catch(error => console.log(error()))\n\n      }\n    }\n  }\n\n</script>\n<style scoped>\n    .group {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: space-evenly;\n    }\n\n    * {\n        box-sizing: border-box;\n    }\n\n    .group__header {\n        font-size: 1.2rem;\n        align-items: center;\n        padding: 1rem;\n        border-radius: 2rem;\n          background-color: rgb(35, 49, 82);\n\n\n\n    }\n\n    .group__header__body {\n        padding: 1rem;\n        background-color: rgba(196, 192, 192, 0.849);\n\n        border-radius: 2rem;\n        margin-top: 1rem;\n        margin-bottom: 1rem;\n    }\n</style>"],"sourceRoot":"src/views"}]}