{"remainingRequest":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/babel-loader/lib/index.js!/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/src/components/ListMessagesItemDemoComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/src/components/ListMessagesItemDemoComponent.vue","mtime":1640412706403},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1631176188195},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/babel-loader/lib/index.js","mtime":1631176189508},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1631176188195},{"path":"/Users/traore/Sites/oc/P7/P7-groupomania/laura/p7_babacar/frontend/node_modules/vue-loader/lib/index.js","mtime":1631176189929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgVnVlRmlsdGVyRGF0ZUZvcm1hdCBmcm9tICdAdnVlanMtY29tbXVuaXR5L3Z1ZS1maWx0ZXItZGF0ZS1mb3JtYXQnOwpWdWUudXNlKFZ1ZUZpbHRlckRhdGVGb3JtYXQpOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIGRlZmF1bHQ6ICJWYWxldXIgcGFyIGRlZmF1dCIKICAgIH0sCiAgICB0aXRsZTogewogICAgICBkZWZhdWx0OiAiVmFsZXVyIHBhciBkZWZhdXQiCiAgICB9LAogICAgY29udGVudDogewogICAgICBkZWZhdWx0OiAiVmFsZXVyIHBhciBkZWZhdXQiCiAgICB9LAogICAgY3JlYXRlZEF0OiB7CiAgICAgIGRlZmF1bHQ6ICJWYWxldXIgcGFyIGRlZmF1dCIKICAgIH0sCiAgICBVc2VyVXNlcm5hbWU6IHsKICAgICAgZGVmYXVsdDogIlZhbGV1ciBwYXIgZGVmYXV0IgogICAgfSwKICAgIGF0dGFjaG1lbnQ6IHsKICAgICAgZGVmYXVsdDogIlZhbGV1ciBwYXIgZGVmYXV0IgogICAgfSwKICAgIGxpa2VzOiB7CiAgICAgIGRlZmF1bHQ6ICJWYWxldXIgcGFyIGRlZmF1dCIKICAgIH0sCiAgICBkaXNsaWtlczogewogICAgICBkZWZhdWx0OiAiVmFsZXVyIHBhciBkZWZhdXQiCiAgICB9LAogICAgbXlJZDogewogICAgICBkZWZhdWx0OiAiVmFsZXVyIHBhciBkZWZhdXQiCiAgICB9LAogICAgVXNlcklkOiB7CiAgICAgIGRlZmF1bHQ6ICJWYWxldXIgcGFyIGRlZmF1dCIKICAgIH0sCiAgICBzcGFuTGlrZXM6IHsKICAgICAgZGVmYXVsdDogIlZhbGV1ciBwYXIgZGVmYXV0IgogICAgfSwKICAgIHNwYW5EaXNsaWtlczogewogICAgICBkZWZhdWx0OiAiVmFsZXVyIHBhciBkZWZhdXQiCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBvbkxpa2U6IGZ1bmN0aW9uIChpZCkgewogICAgICBsZXQgb2JqTXlTZXNzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9iaiIpOwogICAgICBsZXQgbXlTdG9yYWdlVG9rZW4gPSBKU09OLnBhcnNlKG9iak15U2Vzc2lvbik7CiAgICAgIGxldCB0b2tlbiA9IG15U3RvcmFnZVRva2VuLm15VG9rZW47CiAgICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9tZXNzYWdlcy8nICsgaWQgKyAnL3ZvdGUvbGlrZScsIG51bGwsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvbWVzc2FnZXMvJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLml0ZW0gPSByZXNwb25zZS5kYXRhWzBdOwogICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuaXRlbS5saWtlcycsIHRoaXMuaXRlbS5saWtlcyk7CiAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy5pdGVtLmRpc2xpa2VzJywgdGhpcy5pdGVtLmRpc2xpa2VzKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGFuTGlrZXMiKS5pbm5lckhUTUwgPSB0aGlzLml0ZW0ubGlrZXM7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BhbkRpc2xpa2VzIikuaW5uZXJIVE1MID0gdGhpcy5pdGVtLmRpc2xpa2VzOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKCkpKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IoKSkpOwogICAgfSwKICAgIG9uRGlzbGlrZTogZnVuY3Rpb24gKGlkKSB7CiAgICAgIGxldCBvYmpNeVNlc3Npb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib2JqIik7CiAgICAgIGxldCBteVN0b3JhZ2VUb2tlbiA9IEpTT04ucGFyc2Uob2JqTXlTZXNzaW9uKTsKICAgICAgbGV0IHRva2VuID0gbXlTdG9yYWdlVG9rZW4ubXlUb2tlbjsKICAgICAgdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL21lc3NhZ2VzLycgKyBpZCArICcvdm90ZS9kaXNsaWtlJywgbnVsbCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogdG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9tZXNzYWdlcy8nKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuaXRlbSA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy5pdGVtLmxpa2VzJywgdGhpcy5pdGVtLmxpa2VzKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLml0ZW0uZGlzbGlrZXMnLCB0aGlzLml0ZW0uZGlzbGlrZXMpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwYW5MaWtlcyIpLmlubmVySFRNTCA9IHRoaXMuaXRlbS5saWtlczsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGFuRGlzbGlrZXMiKS5pbm5lckhUTUwgPSB0aGlzLml0ZW0uZGlzbGlrZXM7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IoKSkpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcigpKSk7CiAgICB9LAogICAgb25EZWxldGU6IGZ1bmN0aW9uIChpZCkgewogICAgICBsZXQgb2JqTXlTZXNzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9iaiIpOwogICAgICBsZXQgbXlTdG9yYWdlVG9rZW4gPSBKU09OLnBhcnNlKG9iak15U2Vzc2lvbik7CiAgICAgIGxldCB0b2tlbiA9IG15U3RvcmFnZVRva2VuLm15VG9rZW47CiAgICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9tZXNzYWdlcy8nICsgaWQgKyAnL2RlbCcsIG51bGwsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHRoaXMuaXRlbXMgPSByZXNwb25zZS5kYXRhKS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcigpKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ListMessagesItemDemoComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n            <div>\n                        <figure>\n                            <img :src=\"attachment\" />\n                        </figure>\n                            <b>{{ UserUsername }}</b> à écrit le\n                            {{ new Date(createdAt) | dateFormat('DD/MM/YYYY') }} à\n                            {{ new Date(createdAt) | dateFormat('hh:mm') }} : <br>\n                            <div class=\"item\"> {{title}} </div>\n                            <div class=\"item\"> {{content}} </div>\n            </div>\n             <div _ngcontent-cpa-c6=\"\" class=\"position like-buttons group__header__body__second\">\n                                                          <div class=\"left\">\n                                                                              <div _ngcontent-cpa-c6=\"\" class=\"likes\">\n                                                                                  <button id=\"onLike\"\n                                                                                          v-on:click=\"onLike(id)\">\n                                                                                      <i _ngcontent-cpa-c6=\"\" class=\"like fa-thumbs-up fa-lg far\"></i>\n                                                                                  </button>\n                                                                                  <span id=\"spanLikes\"  class=\"spanLikes\" _ngcontent-cpa-c6=\"\">{{likes}}</span>\n\n                                                                              </div>\n                                                                              <div _ngcontent-cpa-c6=\"\" class=\"dislikes\">\n                                                                                  <button\n                                                                                          v-on:click=\"onDislike(id)\">\n                                                                                      <i _ngcontent-cpa-c6=\"\" class=\"dislike fa-thumbs-down fa-lg far\"></i>\n                                                                                  </button>\n                                                                                  <span id=\"spanDislikes\"  class=\"spanDislikes\" _ngcontent-cpa-c6=\"\">{{dislikes}}</span>\n                                                                              </div>\n                                                          </div>\n                                                          <div class=\"right\">\n                                                                                <div _ngcontent-cpa-c6=\"\" class=\"dislikes\">\n                                                                                    <button \n                                                                                    v-if=\"myId == UserId\"\n                                                                                    class=\"colorRed\"\n                                                                                    v-on:click=\"onDelete(id)\"\n                                                                                    >\n                                                                                      Supprimer votre message\n                                                                                    </button>\n                                                                                </div>\n                                                          </div>\n            </div>\n    </div>\n</template>\n<script>\nimport Vue from 'vue'\nimport axios from 'axios';\nimport VueFilterDateFormat from '@vuejs-community/vue-filter-date-format';\n\n   Vue.use(VueFilterDateFormat);\n\nexport default {\n    props: {\n        id: {\n            default: \"Valeur par defaut\"\n        },\n        title: {\n            default: \"Valeur par defaut\"\n        },\n        content: {\n            default: \"Valeur par defaut\"\n        },\n        createdAt: {\n            default: \"Valeur par defaut\"\n        },\n        UserUsername: {\n            default: \"Valeur par defaut\"\n        },\n        attachment: {\n            default: \"Valeur par defaut\"\n        },\n        likes: {\n            default: \"Valeur par defaut\"\n        },\n        dislikes: {\n            default: \"Valeur par defaut\"\n        },\n        myId: {\n            default: \"Valeur par defaut\"\n        },\n        UserId: {\n            default: \"Valeur par defaut\"\n        },\n        spanLikes: {\n            default: \"Valeur par defaut\"\n        },\n        spanDislikes: {\n            default: \"Valeur par defaut\"\n        },\n        \n\n    },\n\n    data() {\n      return {\n      }\n      },\n       methods: {\n      onLike: function (id) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        this.axios.post('http://localhost:3000/api/messages/' + id + '/vote/like', null, {\n            headers: {\n              'Authorization': token\n            }\n          }\n        )\n           .then(() => {\n               axios\n                .get('http://localhost:3000/api/messages/')\n                .then(response => {\n                    this.item = response.data[0]\n                    console.log('this.item.likes', this.item.likes)\n                    console.log('this.item.dislikes', this.item.dislikes)\n                    document.getElementById(\"spanLikes\").innerHTML = this.item.likes;\n                    document.getElementById(\"spanDislikes\").innerHTML = this.item.dislikes;\n\n                })\n                 .catch(error => console.log(error()))\n            })\n            .catch(error => console.log(error()))\n\n      },\n      onDislike: function (id) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        this.axios.post('http://localhost:3000/api/messages/' + id + '/vote/dislike', null, {\n            headers: {\n              'Authorization': token\n            }\n          }\n        )\n           .then(() => {\n              axios\n                .get('http://localhost:3000/api/messages/')\n                .then(response => {\n                    this.item = response.data[0]\n                    console.log('this.item.likes', this.item.likes)\n                    console.log('this.item.dislikes', this.item.dislikes)\n                    document.getElementById(\"spanLikes\").innerHTML = this.item.likes;\n                    document.getElementById(\"spanDislikes\").innerHTML = this.item.dislikes;\n\n              })\n              .catch(error => console.log(error()))\n          })\n          .catch(error => console.log(error()))\n      },\n      onDelete: function (id) {\n        let objMySession = localStorage.getItem(\"obj\")\n        let myStorageToken = JSON.parse(objMySession)\n        let token = myStorageToken.myToken;\n        this.axios.post('http://localhost:3000/api/messages/' + id + '/del', null, {\n            headers: {\n              'Authorization': token\n            }\n          })\n              .then(response => this.items = response.data)\n              .catch(error => console.log(error()))\n      }\n    },\n\n}\n\n\n\n</script>\n\n<style>\n\n.item{\n    background-color: #fff;\n    margin-top: 10px;\n    padding: 15px 0;\n    transition: 0.2s;\n    cursor: pointer;\n}\n\n.item:hover {\n    background-color: rgb(171, 194, 238);\n    color: white;\n\n}\n\n.item:active{\n    transition: 0.1s;\n    transform:s cale(0.9);\n\n}\n\n\n</style>"],"sourceRoot":"src/components"}]}